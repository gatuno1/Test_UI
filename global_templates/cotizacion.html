<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cotización</title>
    <style>
      :root {
        --color-primario: #143268; /* Navy blue headers */
        --color-secundario: #e62212; /* Red alerts */
        --color-acento: #f7a600; /* Orange accents */
        --color-exito: #76b82a; /* Green success */
        --color-claro: #f3f5f9; /* Light background */
        --color-texto: #1c1c1c; /* Text color */
      }

      body {
        font-family: "Segoe UI", "Helvetica", sans-serif;
        background-color: var(--color-claro);
        color: var(--color-texto);
        margin: 40px;
        line-height: 1.6;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
        border-bottom: 3px solid var(--color-primario);
        padding-bottom: 20px;
      }

      h1 {
        color: var(--color-primario);
        font-size: 2.5em;
        margin: 0;
        font-weight: bold;
      }

      .client-info {
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        border-left: 5px solid var(--color-primario);
        margin-bottom: 25px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .client-info h2 {
        color: var(--color-primario);
        margin-top: 0;
        font-size: 1.3em;
      }

      .info-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
      }

      .info-label {
        font-weight: bold;
        color: var(--color-primario);
      }

      .products-section {
        margin-bottom: 30px;
      }

      .products-title {
        color: var(--color-primario);
        font-size: 1.5em;
        margin-bottom: 15px;
        border-bottom: 2px solid var(--color-acento);
        padding-bottom: 8px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        background-color: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      th {
        background-color: var(--color-primario);
        color: white;
        padding: 15px 10px;
        text-align: center;
        font-weight: bold;
      }

      td {
        padding: 12px 10px;
        border-bottom: 1px solid #e0e0e0;
      }

      tr:nth-child(even) {
        background-color: #f8f9fa;
      }

      tr:hover {
        background-color: #e3f2fd;
      }

      .text-center {
        text-align: center;
      }
      .text-right {
        text-align: right;
      }
      .text-left {
        text-align: left;
      }

      .total-section {
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        border: 2px solid var(--color-primario);
        margin-top: 20px;
        text-align: right;
      }

      .total-label {
        font-size: 1.3em;
        font-weight: bold;
        color: var(--color-primario);
      }

      .total-amount {
        font-size: 1.8em;
        font-weight: bold;
        color: var(--color-exito);
        margin-top: 10px;
      }

      .footer {
        margin-top: 40px;
        padding-top: 20px;
        border-top: 2px solid var(--color-primario);
        text-align: center;
        font-size: 0.9em;
        color: #666;
      }

      @media print {
        body {
          margin: 20px;
        }
        .header {
          page-break-after: avoid;
        }
        .products-section {
          page-break-inside: avoid;
        }
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>COTIZACIÓN</h1>
    </div>

    <div class="client-info">
      <h2>Información del Cliente</h2>
      <div class="info-row">
        <span class="info-label">Cliente:</span>
        <span>{{ cliente }}</span>
      </div>
      <div class="info-row">
        <span class="info-label">Fecha:</span>
        <span>{{ fecha }}</span>
      </div>
    </div>

    <div class="products-section">
      <h2 class="products-title">Detalle de Productos</h2>

      <table>
        <thead>
          <tr>
            <th style="width: 8%">Item</th>
            <th style="width: 40%">Producto</th>
            <th style="width: 12%">Cantidad</th>
            <th style="width: 20%">Precio Unitario</th>
            <th style="width: 20%">Total</th>
          </tr>
        </thead>
        <tbody>
          {% for item in items %}
          <tr>
            <td class="text-center">{{ loop.index }}</td>
            <td class="text-left">{{ item.producto }}</td>
            <td class="text-center">{{ item.cantidad }}</td>
            <td class="text-right">{{ item.precio_unitario }}</td>
            <td class="text-right">{{ item.total }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="total-section">
      <div class="total-label">Total General:</div>
      <div class="total-amount">{{ total_general }}</div>
    </div>

    <div class="footer">
      <p>Cotización generada automáticamente - {{ fecha }}</p>
    </div>
  </body>
</html>
